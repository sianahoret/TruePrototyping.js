<!DOCTYPE HTML>
<html>
<head>

  <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="chrome=1" />

  <script type="text/javascript" src="js/jquery.js"></script>
  <script type="text/javascript" src="js/mix_test.js"></script>
  <script type="text/javascript" src="../TruePrototyping.js"></script>

  <link type="text/css" rel="stylesheet" href="css/mix_test.css"/>

</head>
<body>

  <h2>With <a href="https://github.com/sianahoret/TruePrototyping.js" target="_blank">TruePrototyping</a> (own) inheritance model</h2>
  <pre class="runnable">
    var BaseModel = {                                                     // this object shouldn't be a Function, as in examples above
        url: function(){
          return '/users/ID';
        }
    };

    var MyModel = BaseModel.derive({
      url: function(){
        return this.ancestor.super('url') + '/somethingExtra';            // approach 1
        // return MyModel.super('url') + '/somethingExtra';               // approach 2
                          // note, that super is called immediately on MyModel, not on MyModel.prototype as in examples above
      }
    });

    var myInstance = MyModel.derive();                                  // 'new' operator is not needed, as in examples above
  </pre>

  <p>Inherited method (implemented with 'ancestor' and 'super'):</p>
  <pre class="runnable">
    // on the first level of inheritance chain
    alert(myInstance.url());                    // "/users/ID/somethingExtra" with both approaches

    // on the second level of inheritance chain
    var myInstance2 = myInstance.derive({});
    alert(myInstance2.url());                   // "/users/ID/somethingExtra/somethingExtra" with approach#1, "/users/ID/somethingExtra" with approach#2
  </pre>

  <p>ancestor:</p>
  <pre class="runnable">
    alert(myInstance.ancestor === MyModel);                             // true (MyModel is immediate ancestor, there is no any 'prototype')
    alert(myInstance.ancestor.ancestor === BaseModel);                  // true
  </pre>

  <p>ancestors:</p>
  <pre class="runnable">
    myInstance.ancestors;                                               // [ MyModel, BaseModel, Object.prototype ]
    alert(myInstance.ancestors[0] === MyModel);                         // true
    alert(myInstance.ancestors[1] === BaseModel);                       // true
    alert(myInstance.ancestors[2] === Object.prototype);                // true
  </pre>

  <p>isAncestorOf:</p>
  <pre class="runnable">
    alert(MyModel.isAncestorOf(myInstance));                            // true
    alert(BaseModel.isAncestorOf(myInstance));                          // true
  </pre>

  <p>isDescendantOf:</p>
  <pre class="runnable">
    // isDescendantOf
    alert(myInstance.isDescendantOf(MyModel.prototype));                // true
    alert(myInstance.isDescendantOf(BaseModel.prototype));              // true
  </pre>

</body>
</html>