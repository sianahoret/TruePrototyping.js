<!DOCTYPE HTML>
<html>
<head>

  <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="chrome=1" />

  <script type="text/javascript" src="js/jquery.js"></script>
  <script type="text/javascript" src="js/mix_test.js"></script>
  <script type="text/javascript" src="../TruePrototyping.min.js"></script>

  <script type='text/javascript' src='js/javascriptmvc.jquery.class.js'></script>

  <link type="text/css" rel="stylesheet" href="css/mix_test.css"/>
</head>
<body>

  <h2>With <a href="http://v3.javascriptmvc.com/docs/jQuery.Class.html#&who=jQuery.Class" target="_blank">JavaScriptMVC</a> inheritance model</h2>
  <pre class="runnable">
    BaseModel = $.Class.extend({
      url: function(){
        return '/users/ID';
      }
    });

    BaseModel.extend('MyModel', {
      url: function(){
        return this.tpAncestor.tpSuperImmediate('url') + '/somethingExtra';        // approach 1
        // return MyModel.prototype.tpSuperImmediate('url') + '/somethingExtra';   // approach 2
      }
    });

    myInstance = new MyModel();
  </pre>

  <p>Inherited method (implemented with 'tpAncestor' and 'tpSuper'):</p>
  <pre class="runnable">
    // on the first level of inheritance chain
    alert(myInstance.url());                                              // "/users/ID/somethingExtra" with both approaches

    // on the second level of inheritance chain
    MyModel.extend('MyModel2');
    myInstance2 = new MyModel2();
    alert(myInstance2.url());                                             // with approach#1: "/users/ID/somethingExtra/somethingExtra" 
                                                                          // with approach#2: "/users/ID/somethingExtra"
  </pre>

  <p>tpAncestor:</p>
  <pre class="runnable">
    alert(myInstance.tpAncestor === MyModel.prototype);                   // true
    alert(myInstance.tpAncestor.tpAncestor === BaseModel.prototype);      // true
  </pre>

  <p>tpAncestors:</p>
  <pre class="runnable">
    myInstance.tpAncestors;                                               // [ MyModel.prototype, BaseModel.prototype, $.Class.prototype, Object.prototype ]
    alert(myInstance.tpAncestors[0] === MyModel.prototype);               // true
    alert(myInstance.tpAncestors[1] === BaseModel.prototype);             // true
    alert(myInstance.tpAncestors[2] === $.Class.prototype);               // true
    alert(myInstance.tpAncestors[3] === Object.prototype);                // true
  </pre>

  <p>tpIsAncestorOf:</p>
  <pre class="runnable">
    alert(MyModel.prototype.tpIsAncestorOf(myInstance));                  // true
    alert(BaseModel.prototype.tpIsAncestorOf(myInstance));                // true
  </pre>

  <p>tpIsDescendantOf:</p>
  <pre class="runnable">
    alert(myInstance.tpIsDescendantOf(MyModel.prototype));                // true
    alert(myInstance.tpIsDescendantOf(BaseModel.prototype));              // true
  </pre>

</body>
</html>